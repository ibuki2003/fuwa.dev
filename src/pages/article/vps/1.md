# VPSã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ #1:åˆæœŸè¨­å®š

ã‚ã‚“ã©ãã•ãã¦ã‚‚*ã“ã“ãŒä¸€ç•ªé‡è¦*ã§ã™.**æ”»æ’ƒ**ã•ã‚Œã¦ã‚‚çŸ¥ã‚Šã¾ã›ã‚“ã‚ˆ.
ã¡ãªã¿ã«ã“ã®ã‚µãƒ¼ãƒãƒ¼ã‚‚ã—ã‚‡ã£ã¡ã‚…ã†æ”»æ’ƒã•ã‚Œã¦ã„ã¾ã™.å¤šåˆ†å®‰å…¨ã ã‘ã©

## æ¥ç¶š

```sh
> ssh root@[host]
```

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ

```sh
# adduser [username]
# passwd [username]
# visudo # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’sudoã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹è¨­å®š
```

```diff
- # %wheel  ALL=(ALL)       ALL
+ %wheel  ALL=(ALL)       ALL
```

```sh
# usermod -aG wheel [username] # sudoersã«è¿½åŠ 
# exit
```

éµç”Ÿæˆã¯[ã“ã®ã‚µã‚¤ãƒˆ](https://qiita.com/wnoguchi/items/a72a042bb8159c35d056)ã‚’å‚è€ƒã«ã™ã‚‹ã¨ã‚ˆã„ã§ã™.ã¤ã‚ˆã„ã¨æ„è­˜é«˜ã„ç³»ã§ã‹ã£ã“ã„ã„ã§ã™.RSAã¯ãƒ€ã‚µã„.

ã‚ˆãä¸å®‰ã«æ€ã‚ã‚ŒãŒã¡ãªã®ãŒéµã‚’æš—å·åŒ–ã›ãšã«é€ä¿¡,ä¿å­˜ã™ã‚‹ã‚“ã§ã™ãŒ,ã“ã‚Œãã‚“ãªã«æ€–ã„ã‚‚ã®ã§ã¯ãªãã¦\*.pubã¯éµğŸ”‘ã§ã¯ãªãéŒ ğŸ”’ã¨æ€ã£ã¦ãã ã•ã„.

```sh
> ssh-copy-id -i ~/.ssh/(éµãƒ•ã‚¡ã‚¤ãƒ«å).pub [username]@[host]
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¨­å®š

```sh
> ssh [username]@[host]
```

```sh
$ sudo vim /etc/ssh/sshd_config
```

```diff
- PasswordAuthentication yes
+ PasswordAuthentication no

- #PermitRootLogin yes
+ PermitRootLogin no

- #Port 22
+ Port [port]
```

(portã¯æ¨æ¸¬ã•ã‚Œã«ãã„ã‚‚ã®ã«)

```sh
$ sudo vim /usr/lib/firewalld/services/ssh.xml
```

```diff
- <port protocol="tcp" port="22"/>
+ <port protocol="tcp" port="[port]"/>
```

```sh
$ sudo systemctl restart sshd
```
